### 观察者模式(Observer)
> 在软件设计中是一个对象，维护一个依赖列表，当任何状态发生改变自动通知它们。
观察者模式指一个对象(Subject)维持一系列依赖于它的对象(Observer),当有关状态发生变化时，Subject会通知这些Observer对象进行更新

观察者模式中，Subject拥有添加、删除和通知一系列Observer对象的方法,而Observer对象拥有更新的方法
```
function Subject() {
    this.observers = []
}
Subject.prototype = {
    add(observer){
        this.observers.push(observer)
    },
    remove(observer){
        this.observers.map((item,index,arr) => {
            if(item === observer){
                 arr.splice(index, 1)
            }
        })
    },
    notify(){
        this.observers.map(item => {
            item.update()
        })
    }
}
function Observe(name) {
    this.name = name
}
Observe.prototype = {
    update(){
        console.log(this.name)
    }
}
const sub = new Subject()
const obs1 = new Observe('name1')
const obs2 = new Observe('name2')
sub.add(obs1);
sub.add(obs2);
sub.notify()
```

### 发布订阅模式(Publisher/Subscriber)
发布订阅模式是希望接受通知的对象(Subscriber),基于一个主题通过自定义事件订阅主题,被激活事件的对象(Publisher)通过发布主题事件的对象，通知订阅该主题事件的Subscriber对象
```
let pubSub = {
    list: {},
    subscribe(key, fn){
        if(!this.list[key]){
            this.list[key] = []
        }
        this.list[key].push(fn)
    },
    publish(){
        let arg = arguments
        let key = [].shift().call(arg)
        let fns = this.list[key]
        if(!fns || fns.length <= 0>) return false
        fns.map(fn => {
            fn.apply(this, arg)
        })
    },
    unSubscribe(key){
        delete this.list[key]
    }
}

pubSub.subscribe('name', (name) => {
  console.log('your name is ' + name);
});
pubSub.subscribe('sex', (sex) => {
  console.log('your sex is ' + sex);
});
pubSub.publish('name', 'ttsy1');  // your name is ttsy1
pubSub.publish('sex', 'male');  // your sex is male
```

#### 观察者模式vs发布订阅模式
观察者模式中依赖于Subject的一系列Observer对象在被通知之后只能只能执行同一个特定的更新方法
而在发布订阅模式中，可以基于不同的主题执行不同的自定义时间,更加灵活


观察者模式和发布订阅模式本质上是一样的，发布订阅模式可以看做是观察者模式的一个进阶版
在发布-订阅模式，消息的发送方，叫做发布者（publishers），消息不会直接发送给特定的接收者，叫做订阅者。

- Observer模式要求观察者必须订阅内容改变的事件，定义了一个一对多的依赖关系；
- Publish/Subscribe模式使用了一个主题/事件通道，这个通道介于订阅着与发布者之间；
- 观察者模式里面观察者「被迫」执行内容改变事件（subject内容事件）；发布/订阅模式中，订阅着可以自定义事件处理程序；
- 观察者模式两个对象之间有很强的依赖关系；发布/订阅模式两个对象之间的耦合读底。

#### vue双向数据绑定(发布订阅)
https://juejin.im/post/5b86119a6fb9a019f928d82d#heading-5


