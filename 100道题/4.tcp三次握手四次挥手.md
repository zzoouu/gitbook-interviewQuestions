### 握手挥手
#### 三次握手
1. 客户端A发送SYN(seq=x)给服务器B,然后进入SYN_SENT状态
2. 服务器B接收SYN报文，回应一个SYN(seq=y)和一个ACK(ACK=x+1)报文，进入SYN_RCVD
3. 客户端A接收SYN报文，回应一个ACK(ACK=y+1),进入ESTABLISHED状态；B收到ACK报文后，进入ESTABLISHED状态

> 为什么三次？
防止请求失效的请求报文突然又传到了服务端，因为产生错误
例如：客户端的连接请求报文并没有丢失，而是在某个网络节点滞留时间过长，延误时间到达服务端，本来是失效的报文段，服务端接收到后，以为是新的请求，就会向客户端发送确认报文，同意建立连接，如果不采用三次握手，服务端会一直等待客户端发送请求，浪费资源，如果采用三次握手，服务端会等待客户端的确认报文，若收不到，服务端知道客户端没有要求建立连接
#### 四次挥手
1. 客户端A上的某个进程，主动关闭连接，发送FIN（seq = u）报文给B，然后进入FIN_WAIT_1状态；
2. B收到FIN报文，回应一个ACK （ACK = u + 1）报文，进入CLOSED_WAIT状态；A收到FIN报文，进入FIN_WAIT_2状态；
3. B向A发送FIN（seq = v）报文，进入LAST_ACK状态；
4. A收到FIN报文后，向B发送ACK(ACK = v + 1)报文，进入TIME_WAIT状态

客户端发送FIN后，表示他结束了数据的发送（这里的数据指复杂数据，标志位、信号位比如图中data的ACK等可以发送），但不代表不能接受数据。
所以客户端依旧能接收服务端发来的data并且返回一个标志位ACK，告诉服务端我已经接受到你的数据。

TCP协议是一种面向连接的、可靠的、基于字节流的运输层通信协议。TCP是全双工 模式