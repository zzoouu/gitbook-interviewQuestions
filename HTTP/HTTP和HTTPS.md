### HTTTP和HTTPS
HTTPS:是以安全为目标的HTTP通道——HTTP的安全版。  
HTTP = HTTP + SSL/TLS 
HTTPS的安全基础是SSL，加密的详细内容就需要SSL   
HTTP经由HTTP进行通信，但利用SSL/TLS加密数据包  
HTTPS是在HTTP上建立SSL加密层，并对传输数据进行加密，是HTTP协议的安全版 

#### HTTP与HTTPS的主要区别
- HTTP是明文传输，HTTPS通过SSL/TLS进行加密
- HTTP端口号是80，HTTPS的端口号是443
- HTTPS需要申请CA证书
- HTTPS的连接很简单，无状态，HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议、比HTTP协议安全

#### HTTPS使用原因
- 建立一个信息安全通道，保证数据传输的安全
- 确认网站的真实性，防止钓鱼网站

#### HTTP缺点
- 通信使用明文，容易被窃听
- 不验证通信方的身份，可能遭遇伪装
- 无法证明报文的完整性，有可能遭遇篡改

#### HTTPS缺点
- 握手阶段比较费时，会使页面的加载时间延长50%，增加10%到20%的耗电
- HTTPS连接缓存不如HTTP高效，如果是大流量网站，会造成流量成本太高
- SSL证书需要钱，功能越强大费用越高
- SSL证书一般需要绑定IP，不能在同一个IP上绑定多个域名

#### HTTPS接入优化
CDN接入 | 会话缓存 | 硬件加速 | 远程解密 | SPDY/HTTP2

#### HTTPS原理
对称加密 | 非对称加密
##### 对称加密
> 对称密钥和解密使用的是同一个密钥

将A的消息通过加密算法加密，得到密文，通过网络传输，B拿到加密后的密文，B通过传递过来的对称密钥将密文解密，得到A发送的消息  
对称加密的弊端： 对称密钥需要传递，在传递的过程中，对称密钥可能被拦截，那么发送的信息还是回被篡改和偷窥  

##### 非对称加密(RSA)
> 双方必须写上一对密钥：公钥和私钥；用私钥加密的数据只有公钥能解密，用公钥加密的数据，只有对应的私钥才能解密  

B将自己的公钥给A，A使用B的公钥进行加密，B用B的私钥进行解密  
弊端： 非对称加密的算法很慢

##### 对称加密+非对称加密

- 对称加密比较快，非对称加密可以传输内容不被破解  
- 使用非对称加密的方法将加密算法的对称密钥加密发送过去，之后利用非对称加密的私钥将对称密钥解密出来

##### 中间人攻击
使用非对称加密的时候，需要将B的公钥发送给A，发送的过程中，安全没有保障,中间人可以拦截到B的公钥进行篡改

##### 确认证书——数字证书
最后一步，确定B给A的公钥确实是B的公钥，而不是别人的 -> 数字证书  
const 主体 = B的公钥 + B的个人信息 + 其他信息  
1. 将主体通过hash算法得到消息摘要
2. 用CA的私钥加密消息摘要得到数字签名
3. 主体+数字签名 = 数字证书

B将数字证书发送给A，A接收到数字证书
1. 用同样的hash算法得到消息摘要
2. 用CA的公钥对数字签名解密，得到CA创建的消息摘要
3. 对比两个消息摘要是否相同 

#### HTTPS流程
1. 浏览器发出安全请求(url)
2. 服务器发送数字证书(包含服务器的公钥)
3. 浏览器用预置的CA列表验证书，如果有问题，提示风险
4. 浏览器生成随机的对称密钥。用服务器的公钥加密
5. 服务器用自己的私钥进行解密，得到对称密钥

#### SSL/TSL
- TLS/SSL的功能实现主要依赖于：散列函数Hash、对称加密、非对称加密  
- 利用非对称加密实现身份认证和密钥协商
- 对称加密算法采用协商的密钥对数据进行加密
- 基于散列函数验证信息的完整性

SSL：（Secure Socket Layer，安全套接字层),确保数据在网络上之传输过程中不会被截取  
TLS：(Transport Layer Security，传输层安全协议)，用于两个应用程序之间提供保密性和数据完整性

- 认证用户和服务器，确保数据发送到正确的客户机和服务器；
- 加密数据以防止数据中途被窃取；
- 维护数据的完整性，确保数据在传输过程中不被改变


