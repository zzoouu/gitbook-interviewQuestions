### 浏览器缓存机制
浏览器缓存模式为应答模式，浏览器发出请求，服务器响应资源

浏览器缓存过程：
1. 浏览器发出请求，从浏览器缓存中寻找是否有缓存结果和缓存标识
2. 若浏览器中存在缓存结果和缓存标识，则直接使用，否则，向服务器发出请求
3. 服务器返回请求结果和缓存标识，200
4. 浏览器将结果和缓存标识放入浏览器缓存中

#### 浏览器缓存：强制缓存、协商缓存
##### 强制缓存:浏览器向浏览器缓存请求缓存结果和缓存标识，并根据结果来决定是否使用缓存结果
- 浏览器缓存无缓存结果，强制缓存失败
1. 浏览器缓存不存在缓存结果和缓存标识，强制缓存失效，向服务器发起请求
2. 浏览器缓存存在缓存结果和缓存标识，但已经失效，强制缓存失效，向服务器发起请求
3. 浏览器缓存存在缓存结果和缓存标识且有效，直接使用缓存结果

> 强制缓存的缓存规则：expires < cache-control
- expires:服务器返回的缓存结果到期时间   
已经被cache-control取代，expires原理是客户端与服务器返回的时间做对比，客户端与服务端的时间可能会发生误差
- cache-control    
1. public: 所有内容都被缓存，客户端和代理服务器都可以缓存
2. private： 默认值，只有客户端可以缓存
3. no-cache：客户端缓存，但需要经过协商缓存来决定是否缓存
4. no-store：所有内容不会被缓存
5. max-age=xxx：缓存内容将在多少秒后失效
6. must-revalidate：可以缓存但必须再向原服务器进行确认
7. proxy-revalidate:中间缓存服务器对缓存的响应的有效性再进行确认

> memory cache | disk cache（ 内存缓存 | 硬盘缓存）
- memory-cache: 内存缓存。快速读取和失效性
将编译解析后的文件直接存入该进程的内存，下次运行是快速读取
一旦进程结束，该进程内存清空
- disk-cache：硬盘缓存，直接将缓存写入硬盘文件，读取缓存需要对硬盘文件进行I/O操作，然后重新解析该缓存内容，读取复杂，速度比内存缓存慢  

*浏览器network-status为灰色时，说明强制缓存成功，network-size：disk cache | memory cache,说明缓存存放位置*

##### 协商缓存：强制缓存失效后，浏览器携带缓存标识向服务器发起请求，决定是否使用缓存
1. 协商缓存生效，返回304，表明资源无更新，使用浏览器缓存缓存结果
2. 协商缓存失败，重新请求，返回200和请求结果，存入缓存

强制缓存 > 协商缓存



